{"variants":[{"paths":["\/tutorials\/documentation\/tutorial01"],"traits":[{"interfaceLanguage":"js"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[{"kind":"hero","title":"Let's create a tweak","chapter":"Let's do a simple file replacement","estimatedTimeInMinutes":30,"content":[]},{"kind":"tasks","tasks":[{"anchor":"Basic","title":"Basic","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a folder and create main.js."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":"TutorialCode01.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"First, letâ€™s define the path to replace."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode02.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement the apply method to replace the file."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode03.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Request user permission to access replacement file."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode04.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a backup of your files. Using misakaAPI makes managing backups easier."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode05.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Generate the overwrite file path. The edited file must be placed in this location beforehand."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode06.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Overwrite using ExploitAPI. It then returns a return value indicating success and notifies Misaka of success."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode07.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement the restore method to restore the file."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode08.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Read the backup file created in the apply method."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode09.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use ExploitAPI as before to overwrite the backup file and restore to the original file."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode10.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Next, implement the state method. Visually informs the user and Misaka of the current status."}]}],"caption":[],"type":"step","runtimePreview":"RPReplay.mov","media":null},{"code":"TutorialCode11.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"First, read the current file."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode12.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Next, read the backup data."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"TutorialCode13.js","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Next, check if the data is the same."},{"type":"text","text":" "},{"type":"text","text":"If the backed up file and the current file are the same, tweak has no effect, so we invert the boolean value to return false."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null}]}]}],"identifier":{"url":"doc:\/\/Documentation\/tutorials\/Documentation\/Tutorial01","interfaceLanguage":"js"},"kind":"project","metadata":{"title":"Let's create a tweak","categoryPathComponent":"TableOfContents","role":"project","category":"Tutorial Title"},"hierarchy":{"modules":[{"reference":"doc:\/\/Documentation\/tutorials\/TableOfContents\/Let's-do-a-simple-file-replacement","projects":[{"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/Tutorial01","sections":[{"kind":"task","reference":"doc:\/\/Documentation\/tutorials\/Documentation\/Tutorial01#Basic"}]}]}],"reference":"doc:\/\/Documentation\/tutorials\/TableOfContents","paths":[["doc:\/\/Documentation\/tutorials\/TableOfContents","doc:\/\/Documentation\/tutorials\/TableOfContents\/$volume","doc:\/\/Documentation\/tutorials\/TableOfContents\/Let's-do-a-simple-file-replacement"]]},"references":{"TutorialCode03.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","}"],"fileName":"main.js","identifier":"TutorialCode03.js","type":"file","fileType":"js","highlights":[{"line":4}]},"TutorialCode04.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","}"],"fileName":"main.js","identifier":"TutorialCode04.js","type":"file","fileType":"js","highlights":[{"line":6}]},"TutorialCode09.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}","","async functiontion restore() {","    let backupFilePath = await misaka.readFileBackup(replacementFilePath);","    let res = await exploit.overwrite(backupFilePath, replacementFilePath);","    return res;","}"],"fileName":"main.js","identifier":"TutorialCode09.js","type":"file","fileType":"js","highlights":[{"line":15},{"line":16}]},"doc://Documentation/tutorials/Documentation/Tutorial01":{"role":"project","title":"Let's create a tweak","estimatedTime":"30min","abstract":[],"identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/Tutorial01","kind":"project","type":"topic","url":"\/tutorials\/documentation\/tutorial01"},"TutorialCode10.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}","","async functiontion restore() {","    let backupFilePath = await misaka.readFileBackup(replacementFilePath);","    let res = await exploit.overwrite(backupFilePath, replacementFilePath);","    return res;","}","","async functiontion state() {","    ","}"],"fileName":"main.js","identifier":"TutorialCode10.js","type":"file","fileType":"js","highlights":[{"line":18},{"line":19},{"line":20},{"line":21}]},"TutorialCode12.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}","","async functiontion restore() {","    let backupFilePath = await misaka.readFileBackup(replacementFilePath);","    let res = await exploit.overwrite(backupFilePath, replacementFilePath);","    return res;","}","","async functiontion state() {","    let currentFileData = await fs.readFile(replacementFilePath);","    let backupFileData = await misaka.readFileBackup(replacementFilePath);","}"],"fileName":"main.js","identifier":"TutorialCode12.js","type":"file","fileType":"js","highlights":[{"line":21}]},"TutorialCode01.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";"],"fileName":"main.js","identifier":"TutorialCode01.js","type":"file","fileType":"js","highlights":[]},"TutorialCode13.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}","","async functiontion restore() {","    let backupFilePath = await misaka.readFileBackup(replacementFilePath);","    let res = await exploit.overwrite(backupFilePath, replacementFilePath);","    return res;","}","","async functiontion state() {","    let currentFileData = await fs.readFile(replacementFilePath);","    let backupFileData = await misaka.readFileBackup(replacementFilePath);","    let switchIsON = !await freader.blobEquals(currentFileData, backupFileData);","    return switchIsON;","}"],"fileName":"main.js","identifier":"TutorialCode13.js","type":"file","fileType":"js","highlights":[{"line":22},{"line":23}]},"TutorialCode05.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","}"],"fileName":"main.js","identifier":"TutorialCode05.js","type":"file","fileType":"js","highlights":[{"line":7}]},"TutorialCode07.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}","","async functiontion restore() {","    ","}"],"fileName":"main.js","identifier":"TutorialCode07.js","type":"file","fileType":"js","highlights":[{"line":12},{"line":13},{"line":14},{"line":15}]},"TutorialCode02.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    ","}"],"fileName":"main.js","identifier":"TutorialCode02.js","type":"file","fileType":"js","highlights":[{"line":2},{"line":3},{"line":4},{"line":5}]},"TutorialCode08.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}","","async functiontion restore() {","    let backupFilePath = await misaka.readFileBackup(replacementFilePath);","}"],"fileName":"main.js","identifier":"TutorialCode08.js","type":"file","fileType":"js","highlights":[{"line":14}]},"RPReplay.mov":{"poster":null,"alt":"","type":"video","identifier":"RPReplay.mov","variants":[{"url":"\/videos\/RPReplay.mov","traits":["1x","light"]}]},"TutorialCode06.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}"],"fileName":"main.js","identifier":"TutorialCode06.js","type":"file","fileType":"js","highlights":[{"line":8},{"line":9},{"line":10}]},"TutorialCode11.js":{"syntax":"js","content":["let replacementFilePath = \"\/System\/Library\/PrivateFrameworks\/MaterialKit.framework\/Assets.car\";","","async functiontion apply() {","    await fs.access([replacementFilePath]);","    ","    await misaka.createFileBackup(replacementFilePath);","    let overwriteFilePath = await process.cwd() + \"\/Overwrite\" + replacementFilePath;","    ","    let res = await exploit.overwrite(overwriteFilePath, replacementFilePath);","    return res;","}","","async functiontion restore() {","    let backupFilePath = await misaka.readFileBackup(replacementFilePath);","    let res = await exploit.overwrite(backupFilePath, replacementFilePath);","    return res;","}","","async functiontion state() {","    let currentFileData = await fs.readFile(replacementFilePath);","}"],"fileName":"main.js","identifier":"TutorialCode11.js","type":"file","fileType":"js","highlights":[{"line":20}]},"doc://Documentation/tutorials/Documentation/Tutorial01#Basic":{"role":"pseudoSymbol","title":"Basic","abstract":[],"identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/Tutorial01#Basic","kind":"section","type":"section","url":"\/tutorials\/documentation\/tutorial01#Basic"},"doc://Documentation/tutorials/TableOfContents/Let's-do-a-simple-file-replacement":{"role":"article","title":"Let's do a simple file replacement","abstract":[],"identifier":"doc:\/\/Documentation\/tutorials\/TableOfContents\/Let's-do-a-simple-file-replacement","kind":"article","type":"topic","url":"\/tutorials\/tableofcontents\/let's-do-a-simple-file-replacement"},"doc://Documentation/tutorials/TableOfContents":{"role":"overview","title":"Let's create a tweak","abstract":[{"type":"text","text":"You can understand how it works in real code"}],"identifier":"doc:\/\/Documentation\/tutorials\/TableOfContents","kind":"overview","type":"topic","url":"\/tutorials\/tableofcontents"}}}